(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ac351b22"],{"518f":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Page",[i("div",{staticClass:"top-bar clearfix"},[i("div",{staticClass:"fr"},[i("div",{staticClass:"btn"},[i("el-button",{staticClass:"other-btn",attrs:{type:"text"},on:{click:function(e){t.dialogTableVisible=!0}}},[t._v("查看该主播的其他直播")]),i("span",{staticClass:"tri"},[i("img",{attrs:{src:"/img/triangle.png",alt:""}})])],1),i("el-dialog",{attrs:{visible:t.dialogTableVisible},on:{"update:visible":function(e){t.dialogTableVisible=e}}},[i("v-date-picker",{attrs:{color:"blue",locale:"zh-cn","first-day-of-week":0,multiple:"",landscape:"","full-width":"",scrollable:"",events:t.arrayEvents,"event-color":"red lighten-1","allowed-dates":t.allowedDates},on:{input:t.change},model:{value:t.picker,callback:function(e){t.picker=e},expression:"picker"}}),i("table",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}]},[i("tr",[i("th",[t._v("直播时间")]),i("th",[t._v("直播主题")]),i("th",[t._v("观看次数")])]),t._l(t.video_obj,function(e,a){return i("tr",{key:a},[i("td",[t._v(t._s(e.time))]),i("td",[i("a",{attrs:{href:e.url,target:"_blank"}},[t._v(t._s(e.title))])]),i("td",[t._v(t._s(e.view?parseInt(e.view).toLocaleString():""))])])})],2)],1)],1)]),i("div",{staticClass:"part zbxx"},[t.anchorId?i("p",{staticClass:"bf zb-tx bkg",style:"background-image:url(/img/anchor_img/"+t.anchorId+".jpg)"}):t._e(),i("p",{staticClass:"bf zb-name"},[t._v("主播:"+t._s(t.live_info.accountName))]),i("p",{staticClass:"bf zb-title"},[t._v("直播主题:"+t._s(t.live_info.title))]),i("p",{staticClass:"bf view-count"},[t._v("观看次数:"+t._s(t.live_info.viewCount?parseInt(t.live_info.viewCount).toLocaleString():""))]),i("div",{staticClass:"bf right"},[i("p",[t._v("直播时间:"+t._s(t.live_info.time))]),i("p",{},[t._v("场次标签:"+t._s(t.live_info.label))])])]),i("div",{staticClass:"part zbxg"},[i("div",{staticClass:"clearfix part-name"},[i("span",{staticClass:"tit"},[t._v("直播效果详情")])]),i("div",{staticClass:"data"},[i("div",{staticClass:"bblmzb "},[i("P",{staticClass:"tit"},[t._v("-宝贝类目占比-")]),i("div",{staticClass:"pie"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.bblmzb1_show,expression:"bblmzb1_show"}],attrs:{id:"pie1"}}),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.bblmzb1_show,expression:"!bblmzb1_show"}],staticClass:"imgloading"},[i("img",{attrs:{src:"/img/loading.gif",alt:""}})])]),i("div",{staticClass:"pie"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.bblmzb2_show,expression:"bblmzb2_show"}],attrs:{id:"pie2"}}),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.bblmzb2_show,expression:"!bblmzb2_show"}],staticClass:"imgloading"},[i("img",{attrs:{src:"/img/loading.gif",alt:""}})])])],1),i("div",{staticClass:"bbjgfb"},[i("p",{staticClass:"tit"},[t._v("-宝贝价格分布-")]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.bbjgfb_show,expression:"bbjgfb_show"}],attrs:{id:"bar"}}),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.bbjgfb_show,expression:"!bbjgfb_show"}],staticClass:"imgloading"},[i("img",{attrs:{src:"/img/loading.gif",alt:""}})])])])]),i("div",{staticClass:"part"},[i("div",{staticClass:"clearfix part-name"},[i("span",{staticClass:"tit"},[t._v("直播宝贝清单")])]),i("div",{staticClass:"data-table"},[i("table",{attrs:{border:"1"}},[i("tr",[i("th",[t._v("序列")]),i("th",[t._v("直播宝贝")]),i("th",[t._v("直播价格")])]),0==t.video_goods.length?i("tr",[i("td",{attrs:{colspan:"4"}},[i("span",[t._v("没有数据")])])]):t._e(),t._l(t.video_goods,function(e,a){return i("tr",{key:a},[i("td",[t._v(t._s(a+1))]),i("td",{staticClass:"zbbb link"},[i("img",{staticStyle:{width:"30px",height:"30px"},attrs:{src:e.goodsPci,alt:""}}),i("a",{attrs:{href:e.goodsUrl.startsWith("http")?e.goodsUrl:"https://"+e.goodsUrl,target:"_blank"}},[t._v(t._s(e.goods_name))])]),i("td",[t._v(t._s(e.goodsPrice?parseFloat(e.goodsPrice).toFixed(1):""))])])})],2),t.video_goods.length>0?i("el-pagination",{attrs:{background:"","current-page":t.currentPage,"page-size":10,layout:"prev, pager, next",total:t.zbbb_total,"pager-count":5},on:{"current-change":t.zbbb_handleCurrentChange}}):t._e()],1)]),i("div",{staticClass:"part"},[i("div",{staticClass:"clearfix part-name"},[i("span",{staticClass:"tit"},[t._v("更多历史直播")])]),i("div",{staticClass:"data-table"},[i("table",{attrs:{border:"1"}},[i("tr",[i("th",[t._v("直播时间")]),i("th",[t._v("直播主题")]),i("th",[t._v("观看次数")]),i("th",[t._v("直播宝贝数")])]),0==t.more_videos.length?i("tr",[i("td",{attrs:{colspan:"4"}},[i("span",[t._v("没有数据")])])]):t._e(),t._l(t.more_videos,function(e,a){return i("tr",{key:a},[i("td",[t._v(t._s(e.time))]),i("td",{staticClass:"link"},[i("a",{attrs:{href:e.replayUrl.startsWith("http")?e.replayUrl:"https://"+e.replayUrl,target:"_blank"}},[t._v(t._s(e.title))])]),i("td",[t._v(t._s(parseInt(e.viewCount).toLocaleString()))]),i("td",[t._v(t._s(e.goodsNum))])])})],2),t.more_videos.length>0?i("el-pagination",{attrs:{background:"","current-page":t.currentPage,"page-size":10,layout:"prev, pager, next",total:t.more_video_total,"pager-count":5},on:{"current-change":t.gdzb_handleCurrentChange}}):t._e()],1)])])},s=[],o=i("ef91"),r=i.n(o),n=i("9973"),l=i("f3c4"),c=i.n(l),d=i("beff"),_=i("9ad8");function h(t){return function(){var e=this,i=arguments;return new Promise(function(a,s){var o=t.apply(e,i);function r(t,e){try{var i=o[t](e),r=i.value}catch(t){return void s(t)}i.done?a(r):Promise.resolve(r).then(n,l)}function n(t){r("next",t)}function l(t){r("throw",t)}n()})}}var v={components:{Page:n["a"],elPagination:d["Pagination"],elButton:d["Button"],elDialog:d["Dialog"]},data:function(){return{live_info:{},bar_data:[],video_goods:[],more_videos:[],currentPage:1,dialogTableVisible:!1,date:[],picker:[],arrayEvents:[],pick_date_list:[],video_obj:{},show:!1,anchorId:"",liveId:"",zbbb_total:0,more_video_total:0,bar_axis:[],pie_data:[],pie_child_data:[],pie_obj:[],pie_level:1,pie_child_obj:[],pie_name:"",pie_child_color:[],pie_color:[],bblmzb1_show:!1,bblmzb2_show:!1,bbjgfb_show:!1}},mounted:function(){var t=h(r.a.mark(function t(){var e=this;return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.liveId=this.$route.params.id,this.routeFrom=this.$route.params.from,this.arrayEvents=["2018-09-01","2018-09-10","2018-08-15"],t.next=5,this.LiveInfo_post(this.liveId,10,0,function(t){e.live_info=t.liveInfo,e.live_info.accountId&&(e.anchorId=e.live_info.accountId),e.video_goods=t.liveGoods,e.zbbb_total=t.Total});case 5:return t.next=7,this.liveDate_post(this.anchorId);case 7:return t.next=9,this.moreHisLive_post(this.anchorId,10,0,"","",function(t){e.more_videos=t.hisLiveList,e.more_video_total=t.Total});case 9:this.goodsDetailInfo_post(this.liveId,"",function(t){e.bar_axis=[];var i=t.section,a=t.priceList?t.priceList:[];e.bar_data=a;for(var s="",o=0;o<a.length;o++)s=o==a.length-1?o*i+"元以上":o*i+"-"+(o+1)*i+"元",e.bar_axis.push(s);e.bbjgfb_show=!0,setTimeout(function(){e.price_bar()},0),e.pie_obj=t.goodsNum,e.pie_data=[];for(var r=0;r<e.pie_obj.length;r++){var n={};e.pie_obj[r].lv1Name.length>8?n["name"]=e.pie_obj[r].lv1Name.slice(0,8)+"...":n["name"]=e.pie_obj[r].lv1Name,n["value"]=e.pie_obj[r].goodsNum,0==r&&(e.pie_name=e.pie_obj[r].lv1Name,n["selected"]=!0),e.pie_data.push(n),e.pie_color.push("rgba(242,72,125,"+(1-.1*r)+")")}e.bblmzb1_show=!0,e.bblmzb2_show=!0,setTimeout(function(){e.piefun(),e.pie_child(e.pie_name)},0)});case 10:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),methods:{allowedDates:function(t){return-1!=this.arrayEvents.indexOf(t)},price_bar:function(){var t=c.a.init(document.getElementById("bar")),e={color:["#F2487D"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},xAxis:{axisLine:{show:!0,lineStyle:{color:"rgba(0,0,0,0.1)"}},axisLabel:{inside:!1,textStyle:{color:"rgba(0,0,0,0.78)",fontWeight:"normal",fontSize:"12"}},data:this.bar_axis},yAxis:{axisTick:{show:!1},axisLine:{show:!0,lineStyle:{color:"#fff"}},axisLabel:{inside:!1,textStyle:{color:"rgba(0,0,0,0.78)",fontWeight:"normal",fontSize:"12"}},splitLine:{lineStyle:{type:"dashed"}}},series:[{type:"bar",barWidth:30,data:this.bar_data}]};t.setOption(e)},gdzb_handleCurrentChange:function(t){var e=this,i=10*(t-1);this.moreHisLive_post(this.anchorId,10,i,"","",function(t){e.more_videos=t.hisLiveList})},zbbb_handleCurrentChange:function(t){var e=this,i=10*(t-1);this.LiveInfo_post(this.liveId,10,i,function(t){e.video_goods=t.liveGoods})},change:function(t){var e=this;t.length?this.show=!0:this.show=!1;var i=[];if(t.length>this.pick_date_list.length){this.pick_date_list=t,this.pick_date_list.reverse();var a=this.pick_date_list[0].replace(/-/g,"."),s=this.pick_date_list[0].replace(/-/g,".");this.moreHisLive_post(this.anchorId,1,0,a,s,function(t){e.$set(e.video_obj,e.pick_date_list[0],{time:e.pick_date_list[0],title:t.hisLiveList[0].title,url:t.hisLiveList[0].replayUrl,view:t.hisLiveList[0].viewCount})})}else i=this.array_difference(this.pick_date_list,t)[0],this.pick_date_list=t,delete this.video_obj[i]},array_difference:function(t,e){for(var i=t.slice(0),a=0;a<e.length;a++)for(var s=e[a],o=0;o<i.length;o++)s===i[o]&&i.splice(o,1);return i},liveDate_post:function(t){var e=this;return _["a"].post("/web/liveInfo/liveDate",{anchorId:t}).then(function(t){e.arrayEvents=[];for(var i=t.data.data.DateList,a=0;a<i.length;a++)e.arrayEvents.push(i[a].time)})},LiveInfo_post:function(t,e,i,a){var s={liveId:t,queryNum:e,startNum:i};return this.$route.query.time&&(s.time=this.$route.query.time.substr(0,7)),_["a"].post("/web/liveInfo/LiveInfo",s).then(function(t){"function"==typeof a&&a(t.data.data)})},moreHisLive_post:function(t,e,i,a,s,o){var r={anchorId:t,queryNum:e,startNum:i};return a&&s?(r.startDate=a,r.endDate=s,r.time=a.substr(0,7)):this.$route.query.time&&(r.time=this.$route.query.time.substr(0,7)),_["a"].post("/web/liveInfo/moreHisLive",r).then(function(t){"function"==typeof o&&o(t.data.data)})},goodsDetailInfo_post:function(t,e,i){var a={liveId:t};return e&&(a.typeName=e),this.$route.query.time&&(a.time=this.$route.query.time.substr(0,7)),_["a"].post("/web/liveInfo/goodsDetailInfo",a).then(function(t){"function"==typeof i&&i(t.data.data)})},pie_child:function(t){var e=this;this.bblmzb2_show=!1,t||(t=this.pie_name),this.goodsDetailInfo_post(this.liveId,t,function(t){e.pie_child_obj=t.goodsNum,e.pie_child_data=[];for(var i=0;i<e.pie_child_obj.length;i++){var a={};e.pie_child_obj[i].lv1Name.length>8?a["name"]=e.pie_child_obj[i].lv1Name.slice(0,8)+"...":a["name"]=e.pie_child_obj[i].lv1Name,a["value"]=e.pie_child_obj[i].goodsNum,e.pie_child_data.push(a),e.pie_child_color.push("rgba(242,72,125,"+(1-.1*i)+")")}e.bblmzb2_show=!0,setTimeout(function(){e.pie_child_fun()},0)})},piefun:function(){var t=this,e=c.a.init(document.getElementById("pie1")),i={color:this.pie_color,grid:{x:35},tooltip:{},series:{hoverAnimation:!1,selectedMode:"single",type:"pie",radius:["40%","60%"],avoidLabelOverlap:!0,label:{normal:{formatter:"{b}:{d}% "}},itemStyle:{normal:{borderWidth:2,borderColor:"#ffffff"}},data:this.pie_data}};e.setOption(i),e.on("click",function(e){for(var i=0;i<t.pie_obj.length;i++)if(e.name.slice(0,8)==t.pie_obj[i].lv1Name.slice(0,8)){console.log(1),t.pie_child(t.pie_obj[i].lv1Name);break}})},pie_child_fun:function(){var t=c.a.init(document.getElementById("pie2")),e={color:this.pie_child_color,tooltip:{},grid:{x:35},series:{hoverAnimation:!1,selectedMode:"single",type:"pie",radius:["40%","60%"],avoidLabelOverlap:!0,label:{normal:{formatter:"{b}:{d}% "}},itemStyle:{normal:{borderWidth:2,borderColor:"#ffffff"}},data:this.pie_child_data}};t.setOption(e)}}},b=v,p=(i("9abc"),i("bfec"),i("048f")),u=Object(p["a"])(b,a,s,!1,null,"df420fec",null);u.options.__file="DetailZbxg.vue";e["default"]=u.exports},"90a9":function(t,e,i){},"9abc":function(t,e,i){"use strict";var a=i("a495f"),s=i.n(a);s.a},a495f:function(t,e,i){},bfec:function(t,e,i){"use strict";var a=i("90a9"),s=i.n(a);s.a}}]);
//# sourceMappingURL=chunk-ac351b22.f23af8ba.js.map