(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["register"],{6056:function(e,r,t){"use strict";var s=t("66bc"),o=t.n(s);o.a},"66bc":function(e,r,t){},"67c9":function(e,r,t){},"73cf":function(e,r,t){"use strict";t.r(r);var s=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("section",{staticClass:"page"},[t("header-login",{attrs:{title:"欢迎注册"}},[t("div",{staticClass:"tip",attrs:{slot:"right"},slot:"right"},[t("span",[e._v("已有账号？")]),t("router-link",{attrs:{to:"/Login"}},[e._v("立即登录")])],1)]),t("div",{staticClass:"content"},[t("div",{staticClass:"register-form"},[t("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,"status-icon":"",rules:e.rules}},[t("el-form-item",{attrs:{prop:"username"}},[t("el-input",{attrs:{placeholder:"创建用户名","prefix-icon":"fa fa-user"},model:{value:e.ruleForm.username,callback:function(r){e.$set(e.ruleForm,"username",r)},expression:"ruleForm.username"}})],1),t("el-form-item",{attrs:{prop:"phone"}},[t("el-input",{attrs:{placeholder:"请输入手机号码","prefix-icon":"fa fa-mobile"},model:{value:e.ruleForm.phone,callback:function(r){e.$set(e.ruleForm,"phone",e._n(r))},expression:"ruleForm.phone"}})],1),t("el-form-item",{staticClass:"yzm",attrs:{prop:"registerCode",error:e.errMsg_yzm}},[t("el-input",{attrs:{placeholder:"请输入短信验证码","prefix-icon":"fa fa-mobile"},model:{value:e.ruleForm.registerCode,callback:function(r){e.$set(e.ruleForm,"registerCode",r)},expression:"ruleForm.registerCode"}}),t("el-button",{attrs:{type:"text",disabled:e.captchaDisable},on:{click:e.codeBtnAction}},[e._v("\n                        "+e._s(e.codeBtnValue)+"\n                    ")])],1),t("el-form-item",{attrs:{prop:"password"}},[t("el-input",{attrs:{placeholder:"设置6至20位登录密码",type:"password","prefix-icon":"fa fa-unlock-alt"},model:{value:e.ruleForm.password,callback:function(r){e.$set(e.ruleForm,"password",r)},expression:"ruleForm.password"}})],1),t("el-form-item",{attrs:{prop:"ensurePassword"}},[t("el-input",{attrs:{placeholder:"请再次输入登录密码",type:"password","prefix-icon":"fa fa-unlock-alt"},model:{value:e.ruleForm.ensurePassword,callback:function(r){e.$set(e.ruleForm,"ensurePassword",r)},expression:"ruleForm.ensurePassword"}})],1),t("p",{staticClass:"clearfix rem"},[t("el-checkbox",{on:{change:e.agreementFunc},model:{value:e.ruleForm.agreement,callback:function(r){e.$set(e.ruleForm,"agreement",r)},expression:"ruleForm.agreement"}},[t("span",[e._v("勾选同意")])]),t("router-link",{attrs:{to:"url?"}},[t("span",{staticClass:"link"},[e._v("《用户服务协议》")])])],1),t("el-button",{staticClass:"submit",attrs:{type:"primary",disabled:e.registerDisable},on:{click:e.registerBtnAction}},[e._v("注册")]),t("el-form-item",{attrs:{error:e.regMsg}})],1)],1)]),t("Footer")],1)},o=[],a=t("e29b"),n=t("9ad8"),i=t("fd2d"),l=t("897d"),c=t.n(l),u=t("beff"),d={components:{Footer:i["a"],HeaderLogin:a["a"],elInput:u["Input"],elButton:u["Button"],elCheckbox:u["Checkbox"],elForm:u["Form"],elFormItem:u["FormItem"]},data:function(){return{regMsg:"",errMsg_yzm:"",captchaDisable:!0,codeBtnValue:"点击发送验证码",agreement:!1,registerDisable:!0,ruleForm:{phone:"",username:"",registerCode:"",password:"",ensurePassword:""},rules:{phone:[{required:!0,validator:this.checkPhone,trigger:"change"}],username:[{required:!0,validator:this.checkUsername,trigger:"blur"}],registerCode:[{required:!0,validator:this.checkRegisterCode,trigger:"blur"}],password:[{required:!0,validator:this.checkPassword,trigger:"blur"}],ensurePassword:[{required:!0,validator:this.checkEnsurePassword,trigger:"blur"}]}}},methods:{checkPhone:function(e,r,t){if(!r)return this.captchaDisable=!0,t(new Error("手机号不能为空"));var s=/^1[3|4|5|7|8][0-9]\d{8}$/;if(!s.test(r))return this.captchaDisable=!0,t(new Error("请输入正确的手机号"));t(),this.captchaDisable=!1},checkUsername:function(e,r,t){if(!r)return t(new Error("用户名不能为空"));t()},checkRegisterCode:function(e,r,t){if(!r)return t(new Error("短信验证码不能为空"));var s=/^\d{6}$/;if(!s.test(r))return t(new Error("请输入正确的短信验证码"));t()},checkPassword:function(e,r,t){return r?r.length<8?t(new Error("密码长度不能小于8位")):r.length>20?t(new Error("密码长度不能大于20位")):void t():t(new Error("密码不能为空"))},checkEnsurePassword:function(e,r,t){if(r!==this.ruleForm.password)return t(new Error("两次密码不匹配"));t()},codeBtnAction:function(){var e=this;n["a"].post("/web/register/sendMsg",{phone:this.ruleForm.phone}).then(function(r){console.log(r),0!=r.data.code&&(e.errMsg_yzm=r.data.msg)}).catch(function(e){console.log(e)});var r=60,t=setInterval(function(){e.codeBtnValue=r-1+"秒后重新发送",r--,e.captchaDisable=!0,0==r&&(clearTimeout(t),e.codeBtnValue="重新发送验证码",e.captchaDisable=!1)},1e3)},agreementFunc:function(){this.agreement?(this.agreement=!1,this.registerDisable=!0):(this.agreement=!0,this.registerDisable=!1)},validateForm:function(){var e=!1;return this.$refs["ruleForm"].validate(function(r){e=r}),e},registerBtnAction:function(){var e=this;if(this.validateForm()){var r=c()(this.ruleForm.password),t=c()(this.ruleForm.ensurePassword);n["a"].post("/web/static/register",{username:this.ruleForm.username,phone:this.ruleForm.phone,markCode:this.ruleForm.registerCode,password1:r,password2:t}).then(function(r){console.log(r),0==r.data.code?e.$router.push("/Login"):e.regMsg=r.data.msg})}}}},m=d,p=(t("6056"),t("9def"),t("048f")),h=Object(p["a"])(m,s,o,!1,null,"883ca296",null);h.options.__file="Register.vue";r["default"]=h.exports},"9def":function(e,r,t){"use strict";var s=t("67c9"),o=t.n(s);o.a}}]);
//# sourceMappingURL=register.84588004.js.map